
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="https://github.com/Bundabrg/GeyserLink/howitworks/" rel="canonical"/>
<meta content="Bundabrg" name="author"/>
<link href="../img/favicon.ico" rel="shortcut icon"/>
<meta content="mkdocs-1.1, mkdocs-material-5.1.3" name="generator"/>
<title>How it works - GeyserLink</title>
<link href="../assets/stylesheets/main.62d34fff.min.css" rel="stylesheet"/>
<link href="../assets/stylesheets/palette.c8acc6db.min.css" rel="stylesheet"/>
<meta content="#3f51b5" name="theme-color"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&amp;display=fallback" rel="stylesheet"/>
<style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
<link href="../css/mkdocs.css" rel="stylesheet"/>
</head>
<body data-md-color-accent="indigo" data-md-color-primary="indigo" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#minecraft-plugin-messages">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header-nav md-grid">
<a aria-label="GeyserLink" class="md-header-nav__button md-logo" href="https://github.com/Bundabrg/GeyserLink" title="GeyserLink">
<img alt="logo" src="../img/header_logo.png"/>
</a>
<label class="md-header-nav__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z"></path></svg>
</label>
<div class="md-header-nav__title" data-md-component="header-title">
<div class="md-header-nav__ellipsis">
<span class="md-header-nav__topic md-ellipsis">
            GeyserLink
          </span>
<span class="md-header-nav__topic md-ellipsis">
            
              How it works
            
          </span>
</div>
</div>
<label class="md-header-nav__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" data-md-state="active" name="query" placeholder="Search" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z"></path></svg>
</label>
<button aria-label="Clear" class="md-search__icon md-icon" data-md-component="search-reset" tabindex="-1" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"></path></svg>
</button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header-nav__source">
<a class="md-source" href="https://github.com/Bundabrg/GeyserLink" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    Bundabrg/GeyserLink
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="GeyserLink" class="md-nav__button md-logo" href="https://github.com/Bundabrg/GeyserLink" title="GeyserLink">
<img alt="logo" src="../img/header_logo.png"/>
</a>
    GeyserLink
  </label>
<div class="md-nav__source">
<a class="md-source" href="https://github.com/Bundabrg/GeyserLink" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    Bundabrg/GeyserLink
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href=".." title="Introduction">
      Introduction
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../quickstart/" title="QuickStart">
      QuickStart
    </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
        How it works
        <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3,9H17V7H3V9M3,13H17V11H3V13M3,17H17V15H3V17M19,17H21V15H19V17M19,7V9H21V7H19M19,13H21V11H19V13Z"></path></svg>
</span>
</label>
<a class="md-nav__link md-nav__link--active" href="./" title="How it works">
      How it works
    </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z"></path></svg>
</span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#minecraft-plugin-messages">
    Minecraft Plugin Messages
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#creating-a-raw-message">
    Creating a Raw Message
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#creating-a-raw-response">
    Creating a Raw Response
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#private-and-public-keys">
    Private and Public Keys
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../custommessages/" title="Custom Messages">
      Custom Messages
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../contributing/" title="Contributing">
      Contributing
    </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z"></path></svg>
</span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#minecraft-plugin-messages">
    Minecraft Plugin Messages
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#creating-a-raw-message">
    Creating a Raw Message
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#creating-a-raw-response">
    Creating a Raw Response
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#private-and-public-keys">
    Private and Public Keys
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset"><a class="md-content__icon pdf-download-btn" download href="../pdf/documentation.pdf" title="Download"><i class="fa fas fa-download"></i><small> PDF</small></a>
<h1>How it works</h1>
<h2 id="minecraft-plugin-messages">Minecraft Plugin Messages<a class="headerlink" href="#minecraft-plugin-messages" title="Permanent link">¶</a></h2>
<p>GeyserLink makes use of the normal PluginMessage channel provided through a special packet in Minecraft. As a result it will
not cause any issues if a server does not have GeyserLink.  The plugin writer does not have to deal with Plugin Messages
as they will make use of events and methods provided by GeyserLink.</p>
<p>GeyserLink takes a message provided by the program and will wrap it inside a <code>signed message</code> (or a <code>signed response</code>). This signed message will contain
identifiers for the sequence, the sender, the packet payload and a signature for the packet. Responses are similarly wrapped
and are associated to Messages by the sequence number and Sender.</p>
<p>The reason for the signature is that we cannot trust messages that could come from a client. This means that every message
sent and received by GeyserLink has a signature affirming that the data is correct and who has sent it.
GeyserLink can also be configured as to which keys that sign a signature can be trusted.</p>
<p>The only difference between an untrusted and trusted message is that the key used to sign a trusted message has been placed
in the <code>trusted</code> field in <code>dynamic.yml</code> rather than a 'known' field. Untrusted messages can still be useful and unless 
there are any security implications then plugin writers should consider trying to support messages from untrusted sources 
or gracefully dealing with them.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Geyserlink will send signed messages using the plugin channel <code>geyserlink:message</code> and responses using the plugin channel 
<code>geyserlink:response</code>. There is no need to trap these as GeyserLink provides its own events, <code>GeyserLinkMessageEvent</code> and
<code>GeyserLinkResponseEvent</code> that will unwrap the message properly.</p>
</div>
<h2 id="creating-a-raw-message">Creating a Raw Message<a class="headerlink" href="#creating-a-raw-message" title="Permanent link">¶</a></h2>
<p>Before we create custom messages it is worth knowing how to create a raw message and response as it describes how GeyserLink works.</p>
<p>Here is an example:</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="highlight"><pre><span></span><code><span class="n">GeyserLink</span><span class="p">.</span><span class="na">getInstance</span><span class="p">().</span><span class="na">sendMessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="s">"myChannel"</span><span class="p">,</span> <span class="s">"mySubChannel"</span><span class="p">,</span> <span class="s">"test"</span><span class="p">.</span><span class="na">getBytes</span><span class="p">());</span>
</code></pre></div>
</div>
<p>This will send a GeyserLink message with a channel <code>myChannel</code> and a sub channel of <code>mySubChannel</code>. These are similar sounding to the Plugin
Message channel but are not related and are used to allow you to trap what GeyserLink messages are interesting.</p>
<p>GeyserLink will trigger the event <code>GeyserLinkMessageEvent</code> when a GeyserLink message is received. The following is an example of
how to trap the above message in Spigot:</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="highlight"><pre><span></span><code><span class="nd">@EventHandler</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onGeyserLinkMessage</span><span class="p">(</span><span class="n">GeyserLinkMessageEvent</span> <span class="n">event</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">GeyserLinkMessage</span> <span class="n">message</span> <span class="o">=</span> <span class="n">event</span><span class="p">.</span><span class="na">getSignedMessage</span><span class="p">().</span><span class="na">getMessage</span><span class="p">();</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">message</span><span class="p">.</span><span class="na">getChannel</span><span class="p">().</span><span class="na">equals</span><span class="p">(</span><span class="s">"myChannel"</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="n">message</span><span class="p">.</span><span class="na">getSubChannel</span><span class="p">().</span><span class="na">equals</span><span class="p">(</span><span class="s">"mySubChannel"</span><span class="p">))</span> <span class="p">{</span>
        <span class="n">getLogger</span><span class="p">().</span><span class="na">info</span><span class="p">(</span><span class="s">"Got a GeyserLink message with payload: "</span> <span class="o">+</span> <span class="k">new</span> <span class="n">String</span><span class="p">(</span><span class="n">message</span><span class="p">.</span><span class="na">getPayload</span><span class="p">()));</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="admonition alert">
<p class="admonition-title">Alert</p>
<p>The <code>channel</code> and <code>subchannel</code> here are not related to the Plugin Message <code>channel</code>. These are wrapped inside the message
and are available for your use and it is recommended to namespace the name like the regular PluginChannel channel does to 
avoid collisions. GeyserLink reserves <code>geyserlink:main</code> as a channel for its own use.</p>
</div>
<h2 id="creating-a-raw-response">Creating a Raw Response<a class="headerlink" href="#creating-a-raw-response" title="Permanent link">¶</a></h2>
<p>Lets expand on the previous example and return something back. The Event will now look like this:</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="highlight"><pre><span></span><code><span class="nd">@EventHandler</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onGeyserLinkMessage</span><span class="p">(</span><span class="n">GeyserLinkMessageEvent</span> <span class="n">event</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">GeyserLinkMessage</span> <span class="n">message</span> <span class="o">=</span> <span class="n">event</span><span class="p">.</span><span class="na">getSignedMessage</span><span class="p">().</span><span class="na">getMessage</span><span class="p">();</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">message</span><span class="p">.</span><span class="na">getChannel</span><span class="p">().</span><span class="na">equals</span><span class="p">(</span><span class="s">"myChannel"</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="n">message</span><span class="p">.</span><span class="na">getSubChannel</span><span class="p">().</span><span class="na">equals</span><span class="p">(</span><span class="s">"mySubChannel"</span><span class="p">))</span> <span class="p">{</span>
        <span class="n">getLogger</span><span class="p">().</span><span class="na">info</span><span class="p">(</span><span class="s">"Got a GeyserLink message with payload: "</span> <span class="o">+</span> <span class="k">new</span> <span class="n">String</span><span class="p">(</span><span class="n">message</span><span class="p">.</span><span class="na">getPayload</span><span class="p">()));</span>

        <span class="n">GeyserLink</span><span class="p">.</span><span class="na">getInstance</span><span class="p">().</span><span class="na">sendResponse</span><span class="p">(</span><span class="n">event</span><span class="p">.</span><span class="na">getPlayer</span><span class="p">(),</span> <span class="n">message</span><span class="p">,</span> <span class="s">"responded"</span><span class="p">.</span><span class="na">getBytes</span><span class="p">());</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<p>Note that to respond we had to pass the <code>message</code> as a parameter. This allows GeyserLink to properly link the response to
the message.</p>
<p>Let's update how it is executed now:</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="highlight"><pre><span></span><code><span class="n">GeyserLink</span><span class="p">.</span><span class="na">getInstance</span><span class="p">().</span><span class="na">sendMessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="s">"myChannel"</span><span class="p">,</span> <span class="s">"mySubChannel"</span><span class="p">,</span> <span class="s">"test"</span><span class="p">.</span><span class="na">getBytes</span><span class="p">())</span>
    <span class="p">.</span><span class="na">onResponse</span><span class="p">(()</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">signed</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">{</span>
        <span class="n">getLogger</span><span class="p">().</span><span class="na">info</span><span class="p">(</span><span class="s">"Got a GeyserLink response: "</span> <span class="o">+</span> <span class="k">new</span> <span class="n">String</span><span class="p">(</span><span class="n">signed</span><span class="p">.</span><span class="na">getMessage</span><span class="p">().</span><span class="na">getPayload</span><span class="p">());</span>
    <span class="p">});</span>
</code></pre></div>
</div>
<p>Now it will output the response it receives. Note that the lambda here is passed the signed message.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>GeyserLink will trigger a <code>GeyserLinkResponseEvent</code> for any response but it is less useful as responses can more easily
be used through the <code>onResponse</code> method as demonstrated here.</p>
</div>
<h2 id="private-and-public-keys">Private and Public Keys<a class="headerlink" href="#private-and-public-keys" title="Permanent link">¶</a></h2>
<p>When first run GeyserLink will generate a new public and private key for itself, storing these in the configuration file
<code>dynamic.yml</code>. The private key should be considered confidential.</p>
<p>When sending signed messages GeyserLink will use its private key to sign the message. The receiving server will use
the public key to verify if a signature is valid and if it is a trusted public key.</p>
<p>If GeyserLink receives a message by a sender it does not have the public key for it will send out a WHOIS packet asking the
sender for their public key and will then add it to its known key list and persist this into the <code>dynamic.yml</code> configuration
file.</p>
<p>Any key can be made trusted by editing the <code>dynamic.yml</code> file and moving the key into the <code>trusted</code> list.</p>
<hr/>
<div class="md-source-date">
<small>
    
      Last update: <span class="timeago" datetime="1592911939000" locale="en"></span>
</small>
</div>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav aria-label="Footer" class="md-footer-nav__inner md-grid">
<a class="md-footer-nav__link md-footer-nav__link--prev" href="../quickstart/" rel="prev" title="QuickStart">
<div class="md-footer-nav__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z"></path></svg>
</div>
<div class="md-footer-nav__title">
<div class="md-ellipsis">
<span class="md-footer-nav__direction">
                  Previous
                </span>
                QuickStart
              </div>
</div>
</a>
<a class="md-footer-nav__link md-footer-nav__link--next" href="../custommessages/" rel="next" title="Custom Messages">
<div class="md-footer-nav__title">
<div class="md-ellipsis">
<span class="md-footer-nav__direction">
                  Next
                </span>
                Custom Messages
              </div>
</div>
<div class="md-footer-nav__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z"></path></svg>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
<div class="md-footer-copyright__highlight">
            Copyright (C) 2020 GeyserLink Developers
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
          Material for MkDocs
        </a>
</div>
</div>
</div>
</footer>
</div>
<script src="../assets/javascripts/vendor.f81b9e8b.min.js"></script>
<script src="../assets/javascripts/bundle.23546af0.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
<script>
        app = initialize({
          base: "..",
          features: ["instant"],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.58d22e8e.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/timeago.js/4.0.0-beta.2/timeago.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/timeago.js/4.0.0-beta.2/timeago.locales.min.js"></script>
<script>
            var nodes = document.querySelectorAll('.timeago');
            var locale = nodes[0].getAttribute('locale');
            timeago.render(nodes, locale);
          </script>
</body>
</html>